{
    "componentChunkName": "component---node-modules-gatsby-theme-buzzing-src-gatsby-theme-timeline-templates-post-query-js",
    "path": "/en/reddit/r/SideProject/comments/tqnjya/postgresql_db_addon_in_a_vpc_on_heroku/",
    "result": {"data":{"site":{"siteMetadata":{"title":"业余项目分享交流","author":"Buzzing.cc","description":"用中文浏览reddit业余项目讨论","keywords":["buzzing","业余项目","程序员"],"siteUrl":"https://sideproject.buzzing.cc","telegram":"@buzzingcc","iconUrl":"https://sideproject.buzzing.cc/avatar.png","defaultSocialImageUrl":"https://images.unsplash.com/photo-1624129591276-5b11185e7b42?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2739&q=80","social":[{"name":"SideProject","url":"https://www.reddit.com/r/SideProject/","external":true},{"name":"Buzzing","url":"https://www.buzzing.cc/","external":true}],"menuLinks":[],"disqus":null,"utterances":null,"localize":[{"title":"Buzzing on Side Project","description":"See what's buzzing on Side Project in your native language","keywords":["buzzing","Side Project"],"locale":"en","social":{"name":null,"url":null,"external":null},"menuLinks":[{"name":"Weekly Selection","url":"/issues","external":null}]},{"title":"業餘項目分享交流","description":"用中文瀏覽reddit業餘項目討論","keywords":["buzzing","業餘項目","程序員"],"locale":"zh-Hant","social":null,"menuLinks":[]},{"title":"サイドプロジェクト","description":"人気のサイドプロジェクトを日本語で閲覧","keywords":["buzzing","サイドプロジェクト"],"locale":"ja","social":null,"menuLinks":[]}]}},"blogPost":{"id":"RedditPost-tqnjya","excerpt":"I used Heroku extensively at my previous job where I became aware of what seemed\nto be a major drawback of database add-ons in Heroku's marketplace: they all\nseem to allow connections directly from the public internet (or at least from\nanywhere on AWS's network). That way is certainly convenient,…","body":"&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I used Heroku extensively at my previous job where I became aware of what seemed to be a major drawback of database add-ons in Heroku&amp;#39;s marketplace: they all seem to allow connections directly from the public internet (or at least from anywhere on AWS&amp;#39;s network). That way is certainly convenient, since an app developer needs only to parse the DB connection URL from the corresponding config variable (i.e. environment variable) in application code to connect to the DB. But leaving DB servers exposed to the whole world seems a clear violation of security best practices.&lt;/p&gt;\n\n&lt;p&gt;Heroku has its own solution to this problem: Private Spaces. In a private space, your app&amp;#39;s dynos and certain qualifying add-ons are hosted together within a virtual private cloud (VPC) that is firewalled off from the rest of the internet. It comes with a couple important caveats, however: you have to have a Heroku Enterprise account (which is rather expensive and requires you to give up the option to use cheaper dyno types) and it only supports a handful of select add-ons (specifically Heroku&amp;#39;s first party add-ons right now) to be sequestered with the app in its VPC.&lt;/p&gt;\n\n&lt;p&gt;My new add-on service (Borealis Isolated Postgres: &lt;a href=\"https://www.borealis-data.com/\"&gt;https://www.borealis-data.com/&lt;/a&gt;) aims to provide an alternative that sits somewhere between the extreme simplicity and &lt;em&gt;relative&lt;/em&gt; inexpensiveness of DB add-ons available on the Common Runtime and the considerably more expensive Private Spaces while offering a similar level of security as Private Spaces. The add-on is in beta now at no cost: &lt;a href=\"https://elements.heroku.com/addons/borealis-pg\"&gt;https://elements.heroku.com/addons/borealis-pg&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;With my add-on, each DB server is in a PostgreSQL-compatible Amazon Aurora DB cluster isolated within its own VPC. All connections to a DB server are required to be forwarded through an SSH server that is dedicated to that VPC.&lt;/p&gt;\n\n&lt;p&gt;So how does an app connect? I wrote a Heroku buildpack to take care of that seamlessly (&lt;a href=\"https://github.com/OldSneerJaw/heroku-buildpack-borealis-pg-ssh\"&gt;https://github.com/OldSneerJaw/heroku-buildpack-borealis-pg-ssh&lt;/a&gt;). When associated with an app, the buildpack automatically identifies any config variables from my add-on and sets up a persistent SSH local port forwarding connection to the database server using autossh. The app can then connect to the database via any PostgreSQL-compatible client library using the add-on&amp;#39;s &lt;code&gt;DATABASE_URL&lt;/code&gt; config variable without having to be aware of the SSH connection. In other words, application code doesn&amp;#39;t have to change at all to support it. If an app works with the first-party Heroku Postgres add-on, it should work with my add-on, too.&lt;/p&gt;\n\n&lt;p&gt;Connecting from your local machine or a CI server to a database server is also straightforward. I wrote a Heroku CLI plugin (&lt;a href=\"https://www.npmjs.com/package/borealis-pg-cli\"&gt;https://www.npmjs.com/package/borealis-pg-cli&lt;/a&gt;) that includes a couple simple commands to either run DB scripts (e.g. DB migrations to be executed during CI/CD) or open a persistent tunnel locally (e.g. for ad hoc data administration). It also has a few commands for managing which PostgreSQL extensions/modules are installed, since the app user does not have privileges to do so in SQL.&lt;/p&gt;\n\n&lt;p&gt;During the beta all add-ons are provisioned in a multi-tenant environment to keep my costs down, but when released to general availability, each premium add-on will get its own fully isolated VPC that is only accessible via its private SSH server. I have not yet decided whether I will continue to provide a free, multi-tenant option after GA, though.&lt;/p&gt;\n\n&lt;p&gt;If you&amp;#39;re already a Heroku user, you can provision the add-on directly (for free) here: &lt;a href=\"https://dashboard.heroku.com/provision-addon?addonServiceId=de00ba11-8b65-47cd-b099-9605703a6e30\"&gt;https://dashboard.heroku.com/provision-addon?addonServiceId=de00ba11-8b65-47cd-b099-9605703a6e30&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Documentation is here: &lt;a href=\"https://devcenter.heroku.com/articles/borealis-pg#getting-started\"&gt;https://devcenter.heroku.com/articles/borealis-pg#getting-started&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Let me know what you think!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;","slug":"/reddit/r/SideProject/comments/tqnjya/postgresql_db_addon_in_a_vpc_on_heroku/","title":"PostgreSQL DB add-on in a VPC on Heroku","tags":["SideProject","reddit"],"date":"March 29, 2022","dateISO":"2022-03-29T02:49:17.000Z","datetime":"2022-03-29 02:49","image":null,"imageAlt":null,"socialImage":null,"__typename":"SocialMediaPost","thirdPartyId":"tqnjya","provider":"Reddit","url":"https://www.reddit.com/r/SideProject/comments/tqnjya/postgresql_db_addon_in_a_vpc_on_heroku/","originalUrl":"https://www.reddit.com/r/SideProject/comments/tqnjya/postgresql_db_addon_in_a_vpc_on_heroku/","imageRemote":null,"video":null,"channel":"SideProject","channelUrl":"https://www.reddit.com/r/SideProject","author":"OldSneerJaw","authorUrl":"https://www.reddit.com/user/OldSneerJaw","authorImage":null,"authorImageRemote":null,"authorSlug":"OldSneerJaw","score":5,"views":null,"sharedCount":null,"likeCount":null,"sharedContent":null,"parent":{"localize":[{"title":"Heroku上のVPCでPostgreSQL DBアドオン","the_new_excerpt":"前職でHerokuを多用しており、そこで意識するようになったのが、以下のようなことです。\nHerokuのマーケットプレイスにあるデータベースアドオンの大きな欠点は、どれも同じです。\n公衆インターネットから直接接続できるようです。\nAWSのネットワーク上であればどこでもいいのです。） 確かにその方法は便利なのですが、...","locale":"ja"},{"title":"在Heroku的VPC中的PostgreSQL DB插件","the_new_excerpt":"我在以前的工作中广泛使用Heroku，在那里我意识到了一个似乎是\n在那里我意识到Heroku市场上的数据库插件的一个主要缺点：它们都\n它们似乎都允许直接从公共互联网（或至少从\n至少从AWS的网络上的任何地方）。这种方式当然很方便，...","locale":"zh"},{"title":"在Heroku的VPC中的PostgreSQL DB插件","the_new_excerpt":"我在以前的工作中廣泛使用Heroku，在那裏我意識到了一個似乎是\n在那裏我意識到Heroku市場上的數據庫插件的一個主要缺點：它們都\n它們似乎都允許直接從公共互聯網（或至少從\n至少從AWS的網絡上的任何地方）。這種方式當然很方便，...","locale":"zh-Hant"}]}},"previous":{"id":"RedditPost-tq7pwl","excerpt":"TL;DR: (📵 → 🎧 → 💪)\n\n(Link to iOS beta [https://testflight.apple.com/join/HIZm7hiA])\n\nHi all! We have been working on a way to stop wasting time while exercising.\nAfter being guilty of scrolling and texting for too long, we set out to\neliminate the phone’s temptations.\n\nHOW: Trellis allows you to…","slug":"/reddit/r/SideProject/comments/tq7pwl/trellis_turns_your_workouts_into_an_audible/","title":"Trellis turns your workouts into an audible routine that you can follow hands free 🙌","date":"March 28, 2022","__typename":"SocialMediaPost","provider":"Reddit","parent":{"localize":[{"title":"Trellisは、あなたのワークアウトを音声でルーティン化し、ハンズフリーでフォローできるようにします🙌。","the_new_excerpt":"tl;dr: (📵→🎧)\n\n(iOSベータ版へのリンク[https://testflight.apple.com/join/HIZm7hiA])\n\nみなさん、こんにちは。私たちは、運動中の無駄な時間をなくすための工夫をしています。\nあまりにも長い間、スクロールやテキストを打つことに罪悪感を感じていたため、私たちは\nスマホの誘惑をなくす。\n\nどうやって。Trellisを使えば、...","locale":"ja"},{"title":"Trellis把你的锻炼变成了一种有声的例行程序，你可以免提地跟着做🙌。","the_new_excerpt":"tl;dr: (📵 → 🎧 → 💪)\n\n(链接到iOS测试版[https://testflight.apple.com/join/HIZm7hiA])\n\n大家好! 我们一直在研究一种在运动时不再浪费时间的方法。\n在对滚动和发短信的时间过长感到内疚后，我们开始着手消除手机的诱惑。\n消除手机的诱惑。\n\n如何。Trellis允许你...","locale":"zh"},{"title":"Trellis把你的鍛鍊變成了一種有聲的例行程序，你可以免提地跟着做🙌。","the_new_excerpt":"tl;dr: (📵 → 🎧 → 💪)\n\n(鏈接到iOS測試版[https://testflight.apple.com/join/HIZm7hiA])\n\n大家好! 我們一直在研究一種在運動時不再浪費時間的方法。\n在對滾動和發短信的時間過長感到內疚後，我們開始着手消除手機的誘惑。\n消除手機的誘惑。\n\n如何。Trellis允許你...","locale":"zh-Hant"}]}},"next":{"id":"RedditPost-gnuylt","excerpt":"edit: full disclosure: I'm 17. I'm pretty honest with it and don't try to hide\nit so just thought I put it here in case anyone thinks I'm trying to do that.\n\nWebsite: https://superpayit.com\n\nWhat: SuperPay is the fastest and simplest way to take one-time and recurring\npayments with zero technical…","slug":"/reddit/r/SideProject/comments/gnuylt/i_built_a_payments_platform_thats_now_processed/","title":"I built a payments platform that's now processed more than $1.3M","__typename":"SocialMediaPost","date":"May 08, 2021","provider":"Reddit","parent":{"localize":[{"title":"我建立了一个支付平台，现在已经处理了超过130万美元。","the_new_excerpt":"编辑：全面披露：我是17岁。我很诚实，并不试图掩饰。\n所以我只是想把它放在这里，以防有人认为我在试图这样做。\n\n网站：https://superpayit.com\n\n内容：SuperPay是最快和最简单的方式，可以通过以下方式进行一次性和经常性付款\n缴费的最快和最简单的方法，没有任何技术问题。","locale":"zh"},{"title":"我建立了一個支付平臺，現在已經處理了超過130萬美元。","the_new_excerpt":"編輯：全面披露：我是17歲。我很誠實，並不試圖掩飾。\n所以我只是想把它放在這裏，以防有人認爲我在試圖這樣做。\n\n網站：https://superpayit.com\n\n內容：SuperPay是最快和最簡單的方式，可以通過以下方式進行一次性和經常性付款\n繳費的最快和最簡單的方法，沒有任何技術問題。","locale":"zh-Hant"},{"title":"決済プラットフォームを構築し、現在では130万ドル以上を処理している","the_new_excerpt":"edit: 完全な開示：私は17歳です。私はかなり正直で、隠そうとすることはありません。\nと思われるかもしれないので、一応ここに書いておきます。\n\nウェブサイト：https://superpayit.com\n\nWhat: SuperPayは、1回限りの支払いや定期的な支払いを行うための最も迅速かつシンプルな方法です。\n技術的な負担はゼロ。","locale":"ja"}]}}},"pageContext":{"basePath":"/","pageType":"detail","id":"RedditPost-tqnjya","previousId":"RedditPost-tq7pwl","maxWidth":1024,"siteMetadata":{"siteUrl":"https://sideproject.buzzing.cc","author":"Buzzing.cc","locale":"zh","title":"业余项目分享交流","shortTitle":"业余项目","description":"用中文浏览reddit业余项目讨论","keywords":["buzzing","业余项目","程序员"],"telegram":"@buzzingcc","telegram_chat_id":"-1001406368978","iconUrl":"https://sideproject.buzzing.cc/avatar.png","menuLinks":[],"subscriptions":[{"name":"Twitter @buzzingcc","url":"https://twitter.com/buzzingcc","external":true},{"name":"Telegram @buzzingcc","url":"https://t.me/buzzingcc","external":true},{"name":"RSS","url":"/rss.xml","prefetch":false}],"social":[{"name":"SideProject","url":"https://www.reddit.com/r/SideProject/","external":true},{"name":"Buzzing","url":"https://www.buzzing.cc/","external":true}],"localize":[{"locale":"en","title":"Buzzing on Side Project","shortTitle":"BuzzNews","description":"See what's buzzing on Side Project in your native language","keywords":["buzzing","Side Project"],"menuLinks":[]},{"locale":"zh-Hant","title":"業餘項目分享交流","shortTitle":"業餘項目","description":"用中文瀏覽reddit業餘項目討論","keywords":["buzzing","業餘項目","程序員"],"menuLinks":[]},{"locale":"ja","title":"サイドプロジェクト","shortTitle":"サイドプロジェクト","description":"人気のサイドプロジェクトを日本語で閲覧","keywords":["buzzing","サイドプロジェクト"],"menuLinks":[]}],"defaultSocialImageUrl":"https://images.unsplash.com/photo-1624129591276-5b11185e7b42?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2739&q=80"},"locale":"en","hrefLang":"en-US","originalPath":"/reddit/r/SideProject/comments/tqnjya/postgresql_db_addon_in_a_vpc_on_heroku/","dateFormat":"MM/DD/YYYY"}},
    "staticQueryHashes": ["1239077767","2744905544","3280999885"]}